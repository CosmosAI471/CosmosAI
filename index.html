<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmos Developers - Building the Future</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* Custom styles for the dark theme and fonts */
        body {
            font-family: 'Inter', sans-serif;
            /* A subtle animated gradient background */
            background-color: #0F172A; /* bg-slate-900 */
        }

        .animated-gradient-bg {
            background: linear-gradient(-45deg, #0F172A, #1E1B4B, #0F172A, #312E81);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Gradient text */
        .gradient-text {
            background: linear-gradient(to right, #A78BFA, #EC4899); /* violet-400 to pink-500 */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }

        /* Glassmorphism effect for cards and nav */
        .glass-effect {
            background: rgba(30, 41, 59, 0.6); /* bg-slate-800 with opacity */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav-glass {
            background: rgba(15, 23, 42, 0.8); /* bg-slate-900 with opacity */
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* AI Modal Styles */
        #ai-modal {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }

        /* Simple Loading Spinner */
        .loader {
            border: 4px solid #374151; /* gray-700 */
            border-top: 4px solid #A78BFA; /* violet-400 */
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    
    <!-- Configuration for Tailwind dark mode -->
    <script>
        tailwind.config = {
            darkMode: 'class', // This enables dark mode based on the 'dark' class on the <html> tag
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'gradient-bg': 'gradientBG 15s ease infinite',
                        'spin': 'spin 1s linear infinite',
                    },
                    keyframes: {
                        gradientBG: {
                            '0%, 100%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                        },
                        spin: {
                            '0%': { transform: 'rotate(0deg)' },
                            '100%': { transform: 'rotate(360deg)' },
                        }
                    }
                },
            },
        }
    </script>
</head>
<body class="text-gray-200 animated-gradient-bg">

    <!-- Header Navigation -->
    <!-- ... existing header code ... -->
    <header id="header" class="nav-glass fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <nav class="container mx-auto max-w-7xl px-6 py-4 flex justify-between items-center">
            <!-- Logo / Company Name -->
            <a href="#" class="text-2xl font-bold gradient-text">
                Cosmos Developers
            </a>
            
            <!-- Desktop Navigation -->
            <div class="hidden md:flex space-x-6 items-center">
                <a href="#products" class="text-gray-300 hover:text-violet-400 transition-colors duration-200">Products</a>
                <a href="#about" class="text-gray-300 hover:text-violet-400 transition-colors duration-200">About</a>
                <a href="#" class="text-gray-300 hover:text-violet-400 transition-colors duration-200">Docs</a>
                <a href="#" class="text-gray-300 hover:text-violet-400 transition-colors duration-200">Contact</a>
                <a href="#" class="bg-violet-600 hover:bg-violet-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200">
                    Get Started
                </a>
            </div>
            
            <!-- Mobile Menu Button -->
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-gray-200 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
        </nav>
        
        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="hidden md:hidden nav-glass border-t border-slate-700">
            <a href="#products" class="block py-3 px-6 text-gray-300 hover:bg-slate-800">Products</a>
            <a href="#about" class="block py-3 px-6 text-gray-300 hover:bg-slate-800">About</a>
            <a href="#" class="block py-3 px-6 text-gray-300 hover:bg-slate-800">Docs</a>
            <a href="#" class="block py-3 px-6 text-gray-300 hover:bg-slate-800">Contact</a>
            <a href="#" class="block py-3 px-6 m-4 bg-violet-600 hover:bg-violet-700 text-white font-medium rounded-lg text-center">
                Get Started
            </a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-32 pb-16"> <!-- Padding top to offset fixed header -->
        
        <!-- Hero Section -->
        <!-- ... existing hero section code ... -->
        <section class="container mx-auto max-w-5xl px-6 text-center mb-24 md:mb-32">
            <h1 class="text-5xl md:text-7xl font-extrabold text-white mb-6 leading-tight">
                Crafting the
                <span class="gradient-text">Digital Universe</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-400 max-w-3xl mx-auto mb-10">
                From intelligent conversations to global navigation, Cosmos Developers builds the platforms that connect and empower humanity.
            </p>
            <div class="flex justify-center space-x-4">
                <a href="#products" class="bg-gradient-to-r from-violet-600 to-pink-600 hover:opacity-90 text-white font-semibold py-3 px-8 rounded-lg text-lg transition-opacity duration-300">
                    Explore Products
                </a>
                <a href="#" class="bg-gray-700 hover:bg-gray-600 text-gray-200 font-semibold py-3 px-8 rounded-lg text-lg transition-colors duration-300">
                    Contact Sales
                </a>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products" class="container mx-auto max-w-7xl px-6 mb-24 md:mb-32">
            <h2 class="text-3xl md:text-4xl font-bold text-center text-white mb-4">Our Constellation of Products</h2>
            <p class="text-lg text-gray-400 text-center max-w-2xl mx-auto mb-16">
                Tools designed for productivity, connection, and exploration.
            </p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                
                <!-- Product Card: Luna -->
                <div class="glass-effect rounded-xl p-6 transition-all duration-300 hover:border-violet-400 hover:shadow-2xl hover:shadow-violet-900/40 flex flex-col">
                    <div class="w-12 h-12 mb-4 rounded-lg bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center">
                        <!-- Icon Placeholder (Sparkle) -->
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-white mb-2">Luna AI</h3>
                    <p class="text-gray-400 mb-4 flex-grow">Your intelligent AI chatbot. Ask it anything to get a preview!</p>
                    <div class="space-y-2">
                         <input id="luna-prompt" type="text" placeholder="Ask Luna a question..." class="w-full bg-slate-700 border border-slate-600 rounded-md py-2 px-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500">
                         <button id="luna-submit" class="w-full bg-violet-600 hover:bg-violet-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200">
                            Chat
                         </button>
                    </div>
                </div>

                <!-- Product Card: Cosmic Notes -->
                <!-- ... existing cosmic notes card ... -->
                <div class="glass-effect rounded-xl p-6 transition-all duration-300 hover:border-blue-400 hover:shadow-2xl hover:shadow-blue-900/40">
                    <div class="w-12 h-12 mb-4 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center">
                        <!-- Icon Placeholder (Document) -->
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-white mb-2">Cosmic Notes</h3>
                    <p class="text-gray-400 mb-4">Capture your thoughts, organize your projects, and sync across all your devices.</p>
                    <a href="#" class="font-medium text-blue-400 hover:text-blue-300 transition-colors duration-200">
                        Learn More &rarr;
                    </a>
                </div>

                <!-- Product Card: Together -->
                <!-- ... existing together card ... -->
                <div class="glass-effect rounded-xl p-6 transition-all duration-300 hover:border-green-400 hover:shadow-2xl hover:shadow-green-900/40">
                    <div class="w-12 h-12 mb-4 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center">
                        <!-- Icon Placeholder (Chat) -->
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a2 2 0 01-2-2V10a2 2 0 012-2h8z"></path></svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-white mb-2">Together</h3>
                    <p class="text-gray-400 mb-4">A secure, fast, and feature-rich messaging platform to bring everyone together.</p>
                    <a href="#" class="font-medium text-green-400 hover:text-green-300 transition-colors duration-200">
                        Learn More &rarr;
                    </a>
                </div>
                
                <!-- Product Card: Earth Map -->
                <div class="glass-effect rounded-xl p-6 transition-all duration-300 hover:border-pink-400 hover:shadow-2xl hover:shadow-pink-900/40 flex flex-col">
                    <div class="w-12 h-12 mb-4 rounded-lg bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center">
                        <!-- Icon Placeholder (Map) -->
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13v-6m0 6l6-3m-6 3l-6-3m6 3l6 3m0-13l5.447 2.724A1 1 0 0121 5.618v10.764a1 1 0 01-1.447.894L15 17m0-13v6m0 0l-6-3"></path></svg>
                    </div>
                    <h3 class="text-2xl font-semibold text-white mb-2">Earth Map</h3>
                    <p class="text-gray-400 mb-4 flex-grow">Plan your next trip with AI-powered local insights and itineraries.</p>
                    <div class="space-y-2">
                         <input id="map-prompt" type="text" placeholder="e.g., '3-day trip to Paris'" class="w-full bg-slate-700 border border-slate-600 rounded-md py-2 px-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-500">
                         <button id="map-submit" class="w-full bg-pink-600 hover:bg-pink-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200">
                            ✨ Generate Itinerary
                         </button>
                    </div>
                </div>

            </div>
        </section>
        
        <!-- About Section -->
        <!-- ... existing about section ... -->
        <section id="about" class="container mx-auto max-w-5xl px-6 text-center">
            <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">Our Mission</h2>
            <p class="text-lg md:text-xl text-gray-400 max-w-3xl mx-auto">
                At Cosmos Developers, we believe in the power of technology to solve complex problems and create meaningful connections. Our mission is to build software that is not only powerful and innovative but also intuitive, accessible, and beautiful. We're charting a course for a future where technology empowers everyone.
            </p>
        </section>

    </main>

    <!-- Footer -->
    <!-- ... existing footer ... -->
    <footer class="border-t border-slate-800 mt-24 md:mt-32">
        <div class="container mx-auto max-w-7xl px-6 py-12 flex flex-col md:flex-row justify-between items-center">
            <div class="text-center md:text-left mb-4 md:mb-0">
                <a href="#" class="text-xl font-bold gradient-text">
                    Cosmos Developers
                </a>
                <p class="text-gray-400 mt-1">&copy; 2025 Cosmos Developers. All rights reserved.</p>
            </div>
            <div class="flex space-x-6">
                <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">
                    <!-- Placeholder for Twitter/X Icon -->
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H4.72l4.594 6.046L13.447 2.25h4.797zM16.93 19.018h1.56L7.84 4.126H6.17l10.76 14.892z"></path></svg>
                </a>
                <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">
                    <!-- Placeholder for GitHub Icon -->
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.026 2.747-1.026.546 1.379.202 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg>
                </a>
                <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200">
                    <!-- Placeholder for LinkedIn Icon -->
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd"></path></svg>
                </a>
            </div>
        </div>
    </footer>

    <!-- AI Response Modal -->
    <div id="ai-modal" class="fixed inset-0 z-50 items-center justify-center p-4 hidden">
        <div class="glass-effect w-full max-w-2xl rounded-lg shadow-2xl overflow-hidden border border-slate-700">
            <div class="flex justify-between items-center p-4 border-b border-slate-700">
                <h3 id="modal-title" class="text-xl font-semibold text-white">AI Response</h3>
                <button id="modal-close" class="text-gray-400 hover:text-white">&times;</button>
            </div>
            <div id="modal-body" class="p-6 max-h-[70vh] overflow-y-auto">
                <!-- AI content will be injected here -->
                <div class="flex justify-center items-center h-32">
                    <div class="loader"></div>
                </div>
            </div>
        </div>
    </div>

    
    <script>
        // --- Mobile Menu Toggle ---
        const menuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');

        menuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // --- Header Shadow on Scroll ---
        const header = document.getElementById('header');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 20) {
                header.classList.add('shadow-lg', 'shadow-slate-900/50');
            } else {
                header.classList.remove('shadow-lg', 'shadow-slate-900/50');
            }
        });

        // --- Gemini AI Integration ---

        // Get Modal Elements
        const aiModal = document.getElementById('ai-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const modalClose = document.getElementById('modal-close');

        // Get Feature Elements
        const lunaPrompt = document.getElementById('luna-prompt');
        const lunaSubmit = document.getElementById('luna-submit');
        const mapPrompt = document.getElementById('map-prompt');
        const mapSubmit = document.getElementById('map-submit');

        // Modal Functions
        const showModal = () => aiModal.classList.replace('hidden', 'flex');
        const hideModal = () => aiModal.classList.replace('flex', 'hidden');
        
        const setModalLoading = (title) => {
            modalTitle.innerText = title;
            modalBody.innerHTML = `<div class="flex justify-center items-center h-32"><div class="loader"></div></div>`;
            showModal();
        };

        const setModalContent = (title, content) => {
            modalTitle.innerText = title;
            // Format content: replace newlines with <br> for HTML rendering
            // In a real app, sanitize this to prevent XSS.
            const formattedContent = content.replace(/\n/g, '<br>');
            modalBody.innerHTML = `<div class="text-gray-300 prose prose-invert">${formattedContent}</div>`;
            showModal();
        };
        
        const setModalError = (title, error) => {
            modalTitle.innerText = title;
            modalBody.innerHTML = `<p class="text-red-400">${error}</p>`;
            showModal();
        }

        // Close modal listener
        modalClose.addEventListener('click', hideModal);
        aiModal.addEventListener('click', (e) => {
            // Close if clicking on the backdrop
            if (e.target === aiModal) {
                hideModal();
            }
        });

        // --- Gemini API Call ---
        const API_KEY = ""; // Keep this empty.
        const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${API_KEY}`;

        // Helper for exponential backoff
        const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));

        async function fetchWithBackoff(payload, maxRetries = 5) {
            let delay = 1000; // start with 1 second
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (response.ok) {
                        return await response.json();
                    }
                    // Handle rate limiting and other server errors
                    if (response.status === 429 || response.status >= 500) {
                        await sleep(delay);
                        delay *= 2; // Double the delay for the next retry
                    } else {
                        // For other client errors, don't retry
                        return Promise.reject(new Error(`API Error: ${response.statusText} (Status: ${response.status})`));
                    }
                } catch (error) {
                    // Network errors
                    if (i === maxRetries - 1) return Promise.reject(error);
                    await sleep(delay);
                    delay *= 2;
                }
            }
            return Promise.reject(new Error("API request failed after all retries."));
        }

        async function callGeminiAPI(userQuery, systemPrompt, useGrounding = false) {
            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
            };

            if (systemPrompt) {
                payload.systemInstruction = {
                    parts: [{ text: systemPrompt }]
                };
            }

            if (useGrounding) {
                payload.tools = [{ "google_search": {} }];
            }

            try {
                const result = await fetchWithBackoff(payload);
                const candidate = result.candidates?.[0];

                if (candidate && candidate.content?.parts?.[0]?.text) {
                    return candidate.content.parts[0].text;
                } else {
                    return "Sorry, I couldn't get a response. Please try again.";
                }
            } catch (error) {
                console.error("Gemini API call failed:", error);
                return `An error occurred: ${error.message}. Please check the console for details.`;
            }
        }

        // --- Feature Event Listeners ---

        // 1. Luna AI Chat
        lunaSubmit.addEventListener('click', async () => {
            const prompt = lunaPrompt.value;
            if (!prompt) return;

            const systemPrompt = "You are Luna AI, a helpful and friendly chatbot from Cosmos Developers. Be concise and conversational. Your goal is to give a great first impression.";
            
            setModalLoading("Luna AI is thinking...");
            lunaPrompt.value = ""; // Clear input

            const response = await callGeminiAPI(prompt, systemPrompt, false);
            setModalContent("Luna AI says:", response);
        });

        // Add keypress listener for Luna
        lunaPrompt.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                lunaSubmit.click();
            }
        });


        // 2. Earth Map Itinerary
        mapSubmit.addEventListener('click', async () => {
            const location = mapPrompt.value;
            if (!location) return;

            const userQuery = `Generate a brief, exciting travel itinerary for: ${location}.`;
            const systemPrompt = "You are a world-class travel expert. Provide a concise, helpful itinerary. Use bullet points for days/activities. Make it sound exciting! Start with a catchy title for the trip.";

            setModalLoading("Generating Your Itinerary...");
            mapPrompt.value = ""; // Clear input

            // Use grounding to get up-to-date info
            const response = await callGeminiAPI(userQuery, systemPrompt, true);
            setModalContent("✨ Your AI-Generated Itinerary", response);
        });
        
        // Add keypress listener for Map
        mapPrompt.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                mapSubmit.click();
            }
        });

    </script>

</body>
                                                              </html>
